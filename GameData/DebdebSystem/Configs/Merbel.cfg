@Kopernicus
{
    Body
    {
        name = Merbel
        cacheFile = DebdebSystem/Cache/Merbel.bin
		Tag = Debdeb_Type0
        Template
        {
            name = Laythe
            removeAllPQSMods = True
        }
        Properties
        {
			displayName = Merbel^N
            description = Don't be fooled by this place. Merbel may have blue skies, stunning views and an ocean from paradise, but the oceans are full of toxic copper sulphate and there isn't enough oxygen in the air to breathe. It's still very pretty though and the place still has a lot to offer with some refining. Merbel's orbit and size suggests it was once a planet itself. As Glumo moved outwards through the Debdeb system, Merbel was snatched and forced into a wacky orbit. This event may have helped form Glumo's spectacular rings.
            radius = 406000
            geeASL = 0.46 // Gravity as sea level, 1 being kerbin gravity, 0 being no gravity.
            tidallyLocked = false // Whether or not the body is tidally locked.
            rotates = True // Self-explanatory.
            rotationPeriod = 28800 // Rotation period in seconds.
			biomeMap = DebdebSystem/PluginData/Merbel_Biomes.png
	    timewarpAltitudeLimits = 0 5000 6000 10000 25000 50000 100000
			ScienceValues
			{
				landedDataValue = 15
				splashedDataValue = 16
				flyingLowDataValue = 12
				flyingHighDataValue = 11
				inSpaceLowDataValue = 9
				inSpaceHighDataValue = 8
				recoveryValue = 10
				flyingAltitudeThreshold = 4000
				spaceAltitudeThreshold = 120000
			}
			Biomes
			{
  				Biome
  				{	
    					name = DeepSeas
					displayName = Deep Seas
    					value = 1.75
    					color = 0.408, 0.314, 0.816, 1.0
  				}
				Biome
  				{
    					name = Seas
					displayName = Seas
    					value = 1.25
    					color = 0.478, 0.459, 0.827, 1.0
  				}
  				Biome
  				{	
    					name = ShallowSeas
					displayName = Shallow Seas
    					value = 1.25
    					color = 0.537, 0.616, 0.820, 1.0
  				}
  				Biome
  				{	
    					name = Coasts
					displayName = Coasts
    					value = 1.1
    					color = 0.702, 0.212, 0.529, 1.0
  				}
  				Biome
  				{	
    					name = Lowlands
					displayName = Lowlands
    					value = 0.9
    					color = 0.769, 0.271, 0.596, 1.0
  				}
  				Biome
  				{	
    					name = Midlands
					displayName = Midlands
    					value = 1
    					color = 0.812, 0.302, 0.561, 1.0
  				}
  				Biome
  				{	
    					name = Highlands
					displayName = Highlands
    					value = 1.1
    					color = 0.855, 0.376, 0.533, 1.0
  				}
  				Biome
  				{	
    					name = Mountains
					displayName = Mountains
    					value = 2
    					color = 0.906, 0.588, 0.459, 1.0
  				}
  				Biome
  				{	
    					name = PolarDeepSeas
					displayName = Polar Deep Seas
    					value = 2
    					color = 0.816, 0.627, 1.0, 1.0
  				}
  				Biome
  				{	
    					name = PolarSeas
					displayName = Polar Seas
    					value = 1.35
    					color = 0.957, 0.918, 1.0, 1.0
  				}
  				Biome
  				{	
    					name = PolarShallowSeas
					displayName = Polar Shallow Seas
    					value = 1.35
    					color = 1.0, 1.0, 1.0, 1.0
  				}
  				Biome
  				{	
    					name = PolarCoasts
					displayName = Polar Coasts
    					value = 1.16
    					color = 0.145, 0.345, 0.027, 1.0
  				}
  				Biome
  				{	
    					name = PolarLowlands
					displayName = Polar Lowlands
    					value = 1
    					color = 0.212, 0.286, 0.039, 1.0
  				}
  				Biome
  				{	
    					name = PolarMidlands
					displayName = Polar Midlands
    					value = 1
    					color = 0.255, 0.255, 0.040, 1.0
  				}
  				Biome
  				{	
    					name = PolarHighlands
					displayName = Polar Highlands
    					value = 1.5
    					color = 0.298, 0.180, 0.024, 1.0
  				}
  				Biome
  				{	
    					name = PolarMountains
					displayName = Polar Mountains
    					value = 2.6
    					color = 0.349, 0.031, 0.098, 1.0
  				}
			}
        }
        Orbit
        {
            referenceBody = Glumo // Reference body.
            color = 0.518, 0.851, 1,1 // Orbit color
            inclination = 64
            eccentricity = 0.3
            semiMajorAxis = 65938002
            longitudeOfAscendingNode = 0
            argumentOfPeriapsis = 54
            meanAnomalyAtEpoch = 0.9
            epoch = 0
			iconTexture = DebdebSystem/PluginData/Icons/Merbel.png
        }
        ScaledVersion
        {
            type = Atmospheric // Type, either atmospheric of vacuum.
            fadeStart = 210000 // Scaled fade start, altitude at which PQS starts to fade away.
            fadeEnd = 210001 // Scaled fade start, altitude at which PQS fully fades away.
            Material
            {
                texture = DebdebSystem/PluginData/Merbel_Color_Scaled.dds
                normals = DebdebSystem/PluginData/Merbel_Normal.dds
 
                color = 1,1,1,1
                specColor = 0.1,0.1,0.1,1
                shininess = 0.96

		rimPower = 1.5
		rimBlend = 0.2
            }
        }
Atmosphere				
{				
enabled =	True			
oxygen =	False			
altitude =	62000			
adiabaticIndex =	1.39			
atmosphereMolarMass =	0.02801			
temperatureSeaLevel =	256			
staticPressureASL =	3.10600E+01			
temperatureCurve				
{				
key =	0	239	0.00000E+00	-7.37282E-04
key =	4069	236	-7.37282E-04	-5.39520E-04
key =	7776	234	-5.39520E-04	-1.39005E-03
key =	11373	229	-1.39005E-03	-1.14844E-03
key =	14856	225	-1.14844E-03	-1.17855E-03
key =	18250	221	-1.17855E-03	-8.97398E-04
key =	21593	218	-8.97398E-04	-3.01023E-04
key =	24915	217	-3.01023E-04	-3.00933E-04
key =	28238	216	-3.00933E-04	-6.00060E-04
key =	31571	214	-6.00060E-04	-5.99161E-04
key =	34909	212	-5.99161E-04	-9.00901E-04
key =	38239	209	-9.00901E-04	-1.51791E-03
key =	41533	204	-1.51791E-03	-2.48139E-03
key =	44757	196	-2.48139E-03	-2.88277E-03
key =	47879	187	-2.88277E-03	-3.33000E-03
key =	50882	177	-3.33000E-03	-3.13152E-03
key =	53756	168	-3.13152E-03	-3.27749E-03
key =	56502	159	-3.27749E-03	-3.04183E-03
key =	59132	151	-3.04183E-03	-1.74338E-03
key =	62000	146	-1.74338E-03	0.00000E+00
}				
temperatureSunMultCurve				
{				
key =	0	1.000	0.00000E+00	-9.46178E-05
key =	4069	0.615	-9.46178E-05	-8.65929E-05
key =	7776	0.294	-8.65929E-05	-7.33945E-05
key =	11373	0.030	-7.33945E-05	-5.54120E-05
key =	14856	-0.163	-5.54120E-05	-3.29994E-05
key =	18250	-0.275	-3.29994E-05	-7.17918E-06
key =	21593	-0.299	-7.17918E-06	5.41842E-06
key =	24915	-0.281	5.41842E-06	1.17364E-05
key =	28238	-0.242	1.17364E-05	1.62016E-05
key =	31571	-0.188	1.62016E-05	2.00719E-05
key =	34909	-0.121	2.00719E-05	2.25225E-05
key =	38239	-0.046	2.25225E-05	2.36794E-05
key =	41533	0.032	2.36794E-05	2.32630E-05
key =	44757	0.107	2.32630E-05	2.24215E-05
key =	47879	0.177	2.24215E-05	1.99800E-05
key =	50882	0.237	1.99800E-05	1.70494E-05
key =	53756	0.286	1.70494E-05	1.31100E-05
key =	56502	0.322	1.31100E-05	8.74525E-06
key =	59132	0.345	8.74525E-06	3.13808E-06
key =	62000	0.354	3.13808E-06	0.00000E+00
}				
temperatureLatitudeBiasCurve				
{				
key =	0	7.63	0	0
key =	38	0	-0.3868	-0.3868
key =	90	-28.37	-0.6283	0
}				
temperatureLatitudeSunMultCurve				
{				
key =	0	40	0	0
key =	38	34.06	-0.3009	-0.3009
key =	90	12	-0.4887	0
}				
temperatureAxialSunBiasCurve				
{				
key =	0	0.88	0	-0.0211
key =	36	0	-0.026	-0.026
key =	126	-1.49	0	0
key =	216	0	0.026	0.026
key =	306	1.49	0	0
key =	360	0.88	-0.0211	0
}				
temperatureAxialSunMultCurve				
{				
key =	0	0	0	0
key =	38	0.5	0.02	0.02
key =	90	1	0	0
}				
temperatureEccentricityBiasCurve				
{				
key =	0	0.5	0	-1
key =	1	-0.5	-1	0
}				
pressureCurve				
{				
key =	0	8.10600E+01	0.00000E+00	-1.20130E-02
key =	4069	4.55834E+01	-7.01997E-03	-7.01997E-03
key =	7776	2.56334E+01	-4.07884E-03	-4.07884E-03
key =	11373	1.44147E+01	-2.38176E-03	-2.38176E-03
key =	14856	8.10600E+00	-1.38828E-03	-1.38828E-03
key =	18250	4.55834E+00	-8.00549E-04	-8.00549E-04
key =	21593	2.56334E+00	-4.56663E-04	-4.56663E-04
key =	24915	1.44147E+00	-2.58479E-04	-2.58479E-04
key =	28238	8.10600E-01	-1.45661E-04	-1.45661E-04
key =	31571	4.55834E-01	-8.20109E-05	-8.20109E-05
key =	34909	2.56334E-01	-4.62971E-05	-4.62971E-05
key =	38239	1.44147E-01	-2.63002E-05	-2.63002E-05
key =	41533	8.10600E-02	-1.50914E-05	-1.50914E-05
key =	44757	4.55834E-02	-8.76040E-06	-8.76040E-06
key =	47879	2.56334E-02	-5.12869E-06	-5.12869E-06
key =	50882	1.44147E-02	-3.02041E-06	-3.02041E-06
key =	53756	8.10600E-03	-1.78386E-06	-1.78386E-06
key =	56502	4.55834E-03	-1.05373E-06	-1.05373E-06
key =	59132	2.56334E-03	-6.19419E-07	-6.19419E-07
key =	62000	0.00000E+00	0.00000E+00	0.00000E+00
}				
}				
			
        Ocean // Just laythe's ocean node without the weird-sounding mods.
		{
			ocean = True
			oceanColor = 0.325, 0.827, 0.922, 1
			oceanHeight = 0
			density = 1
			minLevel = 1
			maxLevel = 6
			minDetailDistance = 8
			maxQuadLengthsPerFrame = 0.03
			Material
			{
				color = 0.325, 0.827, 0.922,1
				colorFromSpace = 0.325, 0.827, 0.922,1
				specColor = 1,1,1,1
				shininess = 0.2
				gloss = 0.2
				tiling = 1000
				waterTex = BUILTIN/sea-water8
				waterTexScale = 1,1
				waterTexOffset = 0,0
				waterTex1 = BUILTIN/sea-water1
				waterTex1Scale = 1,1
				waterTex1Offset = 0,0
				bTiling = 800
				bumpMap = BUILTIN/quiet
				bumpMapScale = 1,1
				bumpMapOffset = 0,0
				displacement = 0.05
				texDisplacement = 0.31
				dispFreq = 0.15
				mix = 0.4032745
				oceanOpacity = 0.3
				falloffPower = 3
				falloffExp = 0.05
				fogColor = 0.51, 0.071, 0.031,1
				heightFallOff = 0.2
				globalDensity = -8E-06
				atmosphereDepth = 50000
				fogColorRamp = BUILTIN/blue_atmogradient
				fogColorRampScale = 1,1
				fogColorRampOffset = 0,0
				fadeStart = 20000
				fadeEnd = 60000
				planetOpacity = 1
				normalXYFudge = 1.4
				normalZFudge = 1.18
			}
			FallbackMaterial
			{
				color = 0.325, 0.827, 0.922,1
				colorFromSpace = 0.325, 0.827, 0.922,1
				specColor = 0.961, 0.82, 0.82,1
				shininess = 0.2
				gloss = 0.15
				tiling = 1000
				waterTex = BUILTIN/sea-water1
				waterTexScale = 1,1
				waterTexOffset = 0,0
				waterTex1 = BUILTIN/sea-water2
				waterTex1Scale = 1,1
				waterTex1Offset = 0,0
				fadeStart = 20000
				fadeEnd = 60000
				planetOpacity = 1
			}
			Fog
			{
				afgAltMult = 0.05
				afgBase = 0.6
				afgLerp = False
				afgMin = 0.05
				fogColorEnd = 0,0.0850000009,0.122500002,1
				fogColorStart = 0,0.340000004,0.49000001,1
				fogDensityAltScalar = -0.0008
				fogDensityEnd = 0.025
				fogDensityExponent = 1
				fogDensityPQSMult = 0.02
				fogDensityStart = 0.005
				skyColorMult = 1.1
				skyColorOpacityAltMult = 15
				skyColorOpacityBase = 0.25
				sunAltMult = 0.01
				sunBase = 0.5
				sunMin = 0.05
				useFog = True
			}
			Mods
			{
				OceanFX
				{
					angle = 0
					blendA = 0
					blendB = 0
					framesPerSecond = 10
					oceanOpacity = 0
					spaceAltitude = 0
					spaceSurfaceBlend = 0
					specColor = 0,0,0,0
					texBlend = 0
					txIndex = 0
					order = 100
					enabled = True
					name = OceanFX
					Watermain
					{
						value = BUILTIN/sea-water1
						value = BUILTIN/sea-water2
						value = BUILTIN/sea-water3
						value = BUILTIN/sea-water4
						value = BUILTIN/sea-water5
						value = BUILTIN/sea-water6
						value = BUILTIN/sea-water7
						value = BUILTIN/sea-water8
						value = BUILTIN/sea-water1
					}
				}
			}
		}
        PQS
        {
            fadeStart = 220000
            fadeEnd = 220001
            minLevel = 2
            maxLevel = 9
            materialType = AtmosphericTriplanarZoomRotation // Best one to use probably, don't change this.
			Material // I uhh, uhh... I don't... Know?
			{
				factor = 8
				factorBlendWidth = 0.05
				factorRotation = 135
				saturation = 1.4
				contrast = 1.3
				tintColor = 1,1,1,0
				specularColor = 0.1,0.1,0.1,1
				albedoBrightness = 1.5
				steepPower = 2
				steepTexStart = 10000
				steepTexEnd = 200000
				steepTex = BUILTIN/ikeSteep_diffuse
				steepTexScale = 1,1
				steepTexOffset = 0,0
				steepBumpMap = BUILTIN/ikeSteep_nrm
				steepBumpMapScale = 1,1
				steepBumpMapOffset = 0,0
				steepNearTiling = 50
				steepTiling = 50
				midTex = BUILTIN/EelooHighQuality-Mid_Diffuse
				midTexScale = 1,1
				midTexOffset = 0,0
				midTiling = 150000
				midBumpMap = BUILTIN/EelooHighQuality-Mid_Normal
				midBumpMapScale = 1,1
				midBumpMapOffset = 0,0
				midBumpTiling = 150000
				lowStart = -1
				lowEnd = -1
				highStart = 2
				highEnd = 2
				globalDensity = 1
				planetOpacity = 1
				oceanFogDistance = 1000
			}
            Mods
            {
                VertexMitchellNetravaliHeightMap // Heightmap node.
                {
                    map = DebdebSystem/PluginData/Merbel_Height.dds// Filepath to heightmap.
                    offset = -1650 // Offset of the terrain.
                    deformity = 7000 // Terrain deformity.
                    scaleDeformityByRadius = False
                    order = 100
                }
                VertexColorMap
				{
					map = DebdebSystem/PluginData/Merbel_Color.dds
					order = 20
					enabled = True
				}
				VertexHeightNoiseVertHeightCurve2 // PQS noise, consult the wiki for this as it's too weird to explain.
				{
					deformity = 1200
					ridgedAddFrequency = 96
					ridgedAddLacunarity = 2
					ridgedAddOctaves = 8
					ridgedAddSeed = 456352342
					ridgedMode = Low
					ridgedSubFrequency = 96
					ridgedSubLacunarity = 2
					ridgedSubOctaves = 8
					ridgedSubSeed = 234352
					simplexFrequency = 356
					simplexHeightEnd = 6000
					simplexHeightStart = 0
					simplexOctaves = 8
					simplexPersistence = 0.5
					simplexSeed = 345463425
					order = 40
					enabled = True
					simplexCurve
					{
						key = 0 0 0 0
						key = 0.6311918 0.4490898 1.432598 1.432598
						key = 1 1 0 0
					}
				}
            }
        }
    }
}